# 38장. 브라우저 렌더링 과정

- 브라우저 환경을 고려하면 효율적인 사이드 자바스크립트 프로그래밍이 가능
    
    ⇒ HTML, CSS, JS 텍스트 문서를 어떻게 파싱 후 브라우저에 렌더링하는지 과정 이해 필요
    
- 파싱
    
    프로그래밍 언어의 문법에 맞게 작성된 텍스트 문서를 읽어들여 실행하기 위해 진행
    
    문서 문자열을 토큰으로 분해 → 문법적 의미 구조 반영해 트리구조 자료구조(파스 트리) 생성
    
- 렌더링
    
    HTML, CSS, JS 작성 문서를 파싱해 브라우저에 시각적으로 출력하는 것
    
    1. 렌더링에 필요한 리소스 요청 & 서버 응답
    2. 브라우저 렌더링 엔진이 HTML, CSS 파싱해 COM, CSSOM 생성 후 렌더 트리 생성
    3. 브라우저 자바스크립트 엔진이 서버 응답된 JS 파싱 후 AST 생성
    DOM API 통해 DOM이나 CSSOM 변경 후 다시 렌더 트리로 결합
    4. 렌더 트리 기반으로 HTML 요소 레이아웃 계산 후 브라우저에 HTML 요소 페인팅

### 요청과 응답

- 브라우저 핵심 기능은 리소스를 서버에 요청 & 서버로부터 응답받아 시각적으로 렌더링하는 것
(리소스는 모두 서버에 존재함)
- 요청 전송 방법 by 브라우저 주소창 ⇒ URL 호스트 이름을 DNS 통해 IP 주소 변환 ⇒ IP 주소 갖는 서버에 요청 전송
- 요청과 응답 확인 방법 by 개발자 도구 내 Network 패널에서 확인 가능

### HTTP 1.1과 HTTP 2.0

- HTTP
    
    웹에서 브라우저와 서버가 통신하기 위한 프로토콜 (규약)
    
- HTTP 1.1
    
    기본적 커넥션당 하나의 요청과 응답만 처리 (여러개 요청 및 응답 불가)
    
    ⇒ 리소스 개수 비례해 응답 시간 증가 (단점)
    
- HTTP 2.0
    
    커넥션당 여러개 요청과 응답 (다중 요청/응답) 가능
    
    HTTP 1.1 대비 로드 속도 약 50% 빠름
    

### HTML 파싱과 DOM 생성

- 브라우저 렌더링 엔진은 HTML 문서 파싱해 브라우저가 이해할 수 있는 자료구조 DOM 생성

⇒ DOM = HTML 문서 파싱 결과물

### CSS 파싱과 CSSOM 생성

- CSS의 link 또는 style 태그 만나면 DOM 생성 일시 중지
    
    CSS 파싱 완료 후 HTML 파싱 중단 지점부터 다시 진행
    
- CSSOM = CSS 상속 반영해 생성함

### 렌더 트리 생성

- DOM과 CSSOM 렌더링 위해 렌더 트리로 결합함
- 렌더링을 위한 트리구조의 자료구조

### 자바스크립트 파싱과 실행

- DOM은 DOM API를 제공 ⇒ DOM 동적 조작 가능
- JS 엔진이 파싱 진행
- 결과물 = AST 트리